!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e48cf480-5699-4132-b62a-3d227be7623f",e._sentryDebugIdIdentifier="sentry-dbid-e48cf480-5699-4132-b62a-3d227be7623f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d9db2a99"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5453],{25453:function(e,t,r){r.d(t,{Z:function(){return eX},V:function(){return eW}});var n,i,o,a=r(84750),s=r(5093),c=r(82271),u=r(96583),l=r(28011),d=r(52158),h=r(75271),p=r(25722),f=r(24621),m=r(6249),g=r(77501),v=r(17254),y=r(48060),b=r(95489),w=r(21480),Z=r(35961),_=r(31995),C=(0,b.X)({signupFormEmailDisclaimerContainer:[w.l0.width("100%")],signupFormEmailDisclaimer:[w.l0.color.brandText,w.l0.font.brandVariable,w.cv.typography.caption.small,w.l0.textAlign.center,w.l0.width("100%")],link:[w.l0.color.foregroundDefault,{fontWeight:700,textDecoration:"none"}]}),S=function(){return(0,l.tZ)(_.G,{css:C.signupFormEmailDisclaimerContainer,children:(0,l.BX)(Z.xv,{css:C.signupFormEmailDisclaimer,children:["By continuing, you agree to Replit's",(0,l.tZ)("br",{}),(0,l.tZ)("a",{css:C.link,href:y.Gu.TERMS_OF_SERVICE,target:"_blank",children:"Terms of Service"})," ","and"," ",(0,l.tZ)("a",{css:C.link,href:y.Gu.PRIVACY_POLICY,target:"_blank",children:"Privacy Policy"})]})})},k=r(44298),E=r(78194),I=r(24873),T=[w.l0.align.center,w.l0.colWithGap(16)],P=(0,b.X)({signupDisclaimerWrapper:[w.l0.pb(24)],footerLinkWrapper:[w.cv.typography.caption.small,w.l0.textAlign.center],footerLink:[w.cv.typography.caption.small,w.l0.color.brandAccentStrongest,{":hover":{color:E.TV.brandAccentStronger,backgroundColor:"transparent"}}],footerContainerNotModal:(0,c._)(T).concat([w.l0.bottom(24)]),footerContainerModal:(0,c._)(T).concat([w.l0.pt(24)]),heightWrapper:[w.l0.height(132)],recaptchaDisclaimer:[w.l0.textAlign.center,w.cv.typography.caption.small,w.l0.color.foregroundDimmest,{"& > a":{color:"inherit",textDecoration:"underline"},"& > a:hover":{textDecoration:"none"}}]}),R=function(e){var t=e.mode,r=e.isModal,n=e.onModeChange,i=function(e){e.preventDefault(),(0,k.uk)({isLogin:"login"===t,authFormPlacement:r?"modal":"auth-page"}),n("login"===t?"signup":"login")};return(0,l.BX)(Z.xv,{css:P.footerLinkWrapper,variant:"small",multiline:!1,children:["login"===t?"New to Replit? ":"Already have an account? ",(0,l.tZ)("a",{role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&i(e)},onClick:function(e){return i(e)},css:P.footerLink,children:"login"===t?"Sign up":"Log in"})]})},x=function(){return(0,l.BX)(Z.xv,{variant:"small",color:"dimmest",css:P.recaptchaDisclaimer,children:["This site is protected by reCAPTCHA Enterprise and the Google"," ",(0,l.tZ)("a",{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," and"," ",(0,l.tZ)("a",{href:"https://policies.google.com/terms",children:"Terms of Service"})," apply."]})},U=function(e){var t=e.isModal,r=e.mode,n=e.onModeChange,i=t?void 0:P.heightWrapper;return(0,l.tZ)(_.G,{css:i,children:(0,l.BX)(_.G,{css:t?P.footerContainerModal:P.footerContainerNotModal,children:[(0,l.tZ)(I.R,{}),"signup"===r?(0,l.tZ)(_.G,{css:P.signupDisclaimerWrapper,children:(0,l.tZ)(S,{})}):null,(0,l.tZ)(R,{mode:r,isModal:t,onModeChange:n}),(0,l.tZ)(_.G,{row:!0,gap:16,align:"center",children:(0,l.tZ)(Z.xv,{css:P.footerLinkWrapper,variant:"small",multiline:!1,children:(0,l.tZ)("a",{href:"https://replit.com/help",target:"_blank",rel:"noopener noreferrer",css:P.footerLink,children:"Get help"})})}),(0,l.tZ)(x,{})]})})},L=(0,b.X)({self:[w.l0.font.brandDefault,{fontWeight:512,fontSize:24,lineHeight:32/24}]}),A=function(e){var t=e.mode,r=e.privateDeployment,n="Create a Replit account";return"login"===t&&(n="Log in to your account"),r&&(n="Log in to access a private website"),(0,l.tZ)(Z.h4,{variant:"headerDefault",level:1,css:L.self,children:n})};r(14224);var D=r(94213),M=r(32586),G=r(69427),B=r(8676),F=r(45732),H=function(e){if(e.isLoggedIn){var t;(0,F.yV)((0,M._)((0,D._)({id:e.id.toString(),email:e.email,roles:e.roles,verified:e.isVerified,emailPreference:e.emailNotifications,createdAt:e.timeCreated},!!e.loginMethod&&{loginMethod:e.loginMethod}),{signupMethod:null!==(t=e.signupMethod)&&void 0!==t?t:G.OU}))}};function W(){return(W=(0,a._)(function(e){var t,r,n,i,o,a,s,c,l,d;return(0,u.Jh)(this,function(u){switch(u.label){case 0:t=e.username,r=e.password,n=e.teacher,i=e.hCaptchaResponse,o=e.hCaptchaSiteKey,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(0,B.uz)("/login",(0,M._)((0,D._)({username:t,password:r},n?{teacher:n}:{}),{hCaptchaResponse:i,hCaptchaSiteKey:o}))];case 2:return a=u.sent(),[3,4];case 3:return(null===(l=(d=s=u.sent()).extras)||void 0===l?void 0:null===(c=l.responseData)||void 0===c?void 0:c.status)===401&&(s.status=d.extras.responseData.status),[2,{isLoggedIn:!1,error:s}];case 4:return H(a),[2,a]}})})).apply(this,arguments)}var X=r(1091),J=r(7258),N=r.n(J);function O(e){var t=e.redirectUrl,r=N().get("shouldUseMobileAppAuthComplete");return"string"!=typeof r||r.length<1?t:"/authComplete?redirectUrl=".concat(encodeURI(t))}var V=r(62651),j=r(6283),Y=r(45327),z=r(20806),q=r(77120),Q=r(43070),K=r(40487),$=r(41415),ee=(0,b.X)({form:[w.l0.colWithGap(8),w.l0.width("100%")],secondaryAction:[w.l0.width("100%"),w.l0.textAlign.center,w.cv.typography.caption.medium,w.l0.color.brandAccentStrongest,{":hover":{color:E.TV.brandAccentStronger,backgroundColor:"transparent"}}]});function et(e){var t,r,n,i=e.onSubmit,o=e.trackSource,c=(0,s._)((0,h.useState)(!1),2),f=c[0],m=c[1],g=(0,s._)((0,h.useState)(!1),2),y=g[0],b=g[1],w=(0,s._)((0,h.useState)(""),2),Z=w[0],C=w[1],S=(0,s._)((0,h.useState)(""),2),k=S[0],E=S[1],I=(0,d.useRouter)(),T=(t=(0,a._)(function(e){return(0,u.Jh)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),f)return[2];return m(!0),[4,P({emailOrUsername:Z,password:k})];case 1:if(!t.sent().fallthrough)return[3,3];return[4,R()];case 2:t.sent(),t.label=3;case 3:return[2]}})}),function(e){return t.apply(this,arguments)}),P=(r=(0,a._)(function(e){var t,r,n,a,s,c,l;return(0,u.Jh)(this,function(u){switch(u.label){case 0:t=e.emailOrUsername,r=e.password,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(0,V.Uj)({action:"signInWithPassword"})];case 2:return n=u.sent(),[3,4];case 3:return u.sent(),[2,{fallthrough:!0}];case 4:return[4,(0,v.yP)({emailOrUsername:t,rawPassword:r,clientType:"CLIENT_TYPE_WEB",recaptchaToken:n})];case 5:if("error"===(a=u.sent()).type)return b(!1),m(!1),i({error:a.message}),[2,{fallthrough:!1}];return[4,(0,V.Np)({response:a.session})];case 6:if("error"===(s=u.sent()).type)return b(!1),m(!1),i({error:s.message}),[2,{fallthrough:!1}];return[4,(0,v.d8)(s.user,{source:o})];case 7:return"success"===(c=u.sent()).type?(m(!1),b(!0),l=c.redirectUrl?O({redirectUrl:c.redirectUrl}):void 0,i({user:{id:c.userId,postLoginRedirectUrl:l},isLogin:!0})):(b(!1),m(!1),i({error:c.message,reauth:c.reauth})),[2,{fallthrough:!1}]}})}),function(e){return r.apply(this,arguments)}),R=(n=(0,a._)(function(){var e,t,r,n,o;return(0,u.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,j.ZP)(void 0,function(){(0,F.j)(F.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})})];case 1:return e=a.sent(),[3,3];case 2:return t=a.sent(),p.Tb(t,function(e){return e.setTag("bonsai",(0,Y.Fj)(I))}),i({error:"Something went wrong trying to submit. Please try again."}),m(!1),[2];case 3:return[4,function(e){return W.apply(this,arguments)}({username:Z,password:k,hCaptchaResponse:e,hCaptchaSiteKey:j.wE})];case 4:if("error"in(r=a.sent())){if(n=r.error,m(!1),i({error:n.message||"Something went wrong"}),n.status&&n.status>=500)throw n;return[2]}return o=r.postLoginRedirectUrl?O({redirectUrl:r.postLoginRedirectUrl}):void 0,i({user:{id:r.id,postLoginRedirectUrl:o},isLogin:!0}),[2]}})}),function(){return n.apply(this,arguments)});return(0,l.BX)(Q.l0,{onSubmit:T,css:ee.form,children:[(0,l.tZ)(X.Z,{type:"text",label:"Email or username",name:"username",value:Z,onChange:C,autoComplete:"email"}),(0,l.tZ)(X.Z,{type:"password",label:"Password",name:"password",value:k,onChange:E}),(0,l.BX)(_.G,{gap:24,children:[(0,l.tZ)(z.ZP,{type:"submit",variant:"primary",stretch:!0,loading:f,disabled:!k||!Z||y,iconRight:f?(0,l.tZ)($.Z,{}):y?(0,l.tZ)(K.Z,{}):void 0,dataCy:"log-in-btn",text:"Log In"}),(0,l.tZ)(q.S,{variant:"clean",css:ee.secondaryAction,href:"/forgot",text:"Forgot password?"}),!1]})]})}var er=r(39933),en=r(21175),ei=r(30870),eo=r(20885),ea=r(14224);(n=i||(i={}))[n.Loaded=0]="Loaded",n[n.Skipped=1]="Skipped",n[n.Failed=2]="Failed";var es="https://elements.stytch.com/telemetry.js";function ec(){return"true"===ea.env.IS_CYPRESS_AUTOMATED_TEST}var eu=window.location.pathname;function el(){return(el=(0,a._)(function(){var e,t,r;return(0,u.Jh)(this,function(n){return e=performance.now(),(t=document.createElement("script")).src=es,t.async=!0,r=new Promise(function(e){setTimeout(function(){eo.kg.error("Timeout while loading Stytch script"),e()},4e3)}),o=Promise.race([new Promise(function(r){t.onload=function(){var t=performance.now();eo.kg.time("time to load Stytch script",t-e),r()},t.onerror=function(){eo.kg.error("Error loading Stytch script at ".concat(es)),r()},document.head.appendChild(t)}),r]),[2]})})).apply(this,arguments)}function ed(){return(ed=(0,a._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:if(ec())return[2,1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,o];case 2:return e.sent(),[2,0];case 3:return e.sent(),[2,2];case 4:return[2]}})})).apply(this,arguments)}function eh(e){return ep.apply(this,arguments)}function ep(){return(ep=(0,a._)(function(e){var t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Promise.race([function(e){return ef.apply(this,arguments)}(e),new Promise(function(e,t){return setTimeout(function(){return t(Error("Could not process device fingerprint in 4s"))},4e3)})])];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),eo.kg.error("Error fetching device fingerprint data ".concat(t.message)),[2,"N/A"];case 3:return[2]}})})).apply(this,arguments)}function ef(){return(ef=(0,a._)(function(e){var t,r,n;return(0,u.Jh)(this,function(o){switch(o.label){case 0:return[4,function(){return ed.apply(this,arguments)}()];case 1:if(o.sent()!==i.Loaded)return[2];return t=window.location.host.startsWith("staging")?"public-token-test-f16841f0-b961-4442-93b3-751c8cfe0d8b":"public-token-live-88edc789-05cb-440a-a321-dab99f475524",r="https://telemetry.replit.com/submit",[4,window.GetTelemetryID(t,r)];case 2:if(!(n=o.sent())||""===n.trim())return eo.kg.error("Client received an empty telemetryId",{userId:e}),[2];return eo.kg.info("Successfully received the telemetryId from Stytch ".concat(n),{telemetryId:n,userId:e}),[4,fetch("/telemetry",{method:"GET",headers:{"Content-Type":"application/json","telemetry-id":n,"user-id":e}})];case 3:return o.sent(),[2]}})})).apply(this,arguments)}!ec()&&["/signup"].some(function(e){return eu.startsWith(e)})&&(function(){return el.apply(this,arguments)})().catch(function(e){return p.Tb(e)});var em=r(48107),eg=r(76786);function ev(e){return e.error?[{message:e.error.message,state:"error"}]:e.warning?[{message:e.warning.message,state:"warning"}]:e.value?e.isValid?[{message:"",state:"success"}]:e.touched?[{message:"",state:"loading"}]:void 0:void 0}var ey=(0,b.X)({form:[w.l0.width("100%")]}),eb=function(e){var t,r=e.onSubmit,n=e.seededEmail,i=e.trackSource,o=void 0===i?"explicit":i,c=(0,s._)((0,h.useState)(!1),2),d=c[0],p=c[1],f=(0,s._)((0,h.useState)(!1),2),m=f[0],g=f[1],y=(0,en.Y)(n||"",em.Z.email),b=(0,en.Y)("",em.Z.password),w=(0,ei.g)().directQueryPrompt,Z=(t=(0,a._)(function(e){var t,n,i,a,s;return(0,u.Jh)(this,function(c){switch(c.label){case 0:if(e.preventDefault(),p(!0),y.isValid)return[3,2];return[4,y.validate()];case 1:if(c.sent())return p(!1),[2];c.label=2;case 2:if(b.isValid)return[3,4];return[4,b.validate()];case 3:if(c.sent())return p(!1),[2];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,(0,V.Uj)({action:"signUpPassword"})];case 5:return t=c.sent(),[3,7];case 6:return c.sent(),r({error:"We failed to evaluate your browser integrity. Please refresh the page and try again. If the problem persists, check your browser and network configuration."}),[2];case 7:return[4,(0,v.xF)({email:y.value,rawPassword:b.value,clientType:"CLIENT_TYPE_WEB",recaptchaToken:t,source:o,aiPrompt:w||void 0})];case 8:if("error"===(n=c.sent()).type)return g(!1),p(!1),r({error:n.message}),[2];return[4,(0,V.Np)({response:n.session})];case 9:if("error"===(i=c.sent()).type)return g(!1),p(!1),r({error:i.message}),[2];return[4,(0,v.d8)(i.user,{source:o})];case 10:if("success"===(a=c.sent()).type)return[3,11];return[3,13];case 11:return p(!1),g(!0),[4,eh(a.userId.toString())];case 12:return c.sent(),s=a.redirectUrl?O({redirectUrl:a.redirectUrl}):void 0,r({user:{id:a.userId,postLoginRedirectUrl:s},isLogin:!1}),[3,14];case 13:return g(!1),p(!1),r({error:a.message,reauth:a.reauth}),[3,14];case 14:return[2]}})}),function(e){return t.apply(this,arguments)}),C=!y.value;return(0,l.tZ)("form",{onSubmit:Z,css:ey.form,children:(0,l.BX)(_.G,{css:ey.form,gap:8,children:[(0,l.tZ)(X.Z,{type:"text",name:"email",label:"Email",onBlur:y.handleBlur,validationResults:ev(y),onChange:y.setValue,value:y.value,autoComplete:"email"}),(0,l.tZ)(X.Z,{type:"password",label:"Password",name:"password",showToggle:!1,onBlur:b.handleBlur,validationResults:ev(b),onChange:b.setValue,value:b.value}),(0,l.tZ)(_.G,{gap:4,children:(0,l.tZ)(z.ZP,{type:"submit",variant:"primary",stretch:!0,loading:d,disabled:!b.value||C||m,iconLeft:d?(0,l.tZ)($.Z,{}):m?(0,l.tZ)(K.Z,{}):void 0,dataCy:"signup-create-account",text:"Create Account"})}),null]})})},ew=r(24900),eZ=(0,b.X)({ssoButton:[w.l0.backgroundColor.brandBackgroundDarker,w.l0.minHeight(40)],ssoIconWrapper:[w.l0.p(2),w.l0.borderRadius(4)],ssoIcon:[w.l0.width(20),w.l0.height(20),{backgroundSize:"contain"}]}),e_=function(e){var t=e.onClick,r=e.iconLeft,n=e.text;return(0,l.tZ)(z.ZP,{css:eZ.ssoButton,variant:"secondary",onClick:t,stretch:!0,iconLeft:r,text:n})},eC=function(e){var t=e.onClick,r=e.provider,n="oauth"===r.type?(0,l.tZ)(_.G,{css:eZ.ssoIconWrapper,children:(0,l.tZ)("div",{style:{backgroundImage:"url(/public/images/".concat(r.providerId.replace(".com",""),".png)")},css:eZ.ssoIcon})}):(0,l.tZ)(ew.Z,{}),i="oauth"===r.type?"Continue with ".concat(g.tn[r.providerId]):"Continue with SAML";return(0,l.tZ)(e_,{onClick:t,iconLeft:n,text:i})},eS=[g.b$,g._i],ek=(0,c._)(eS).concat([g.mG,g.V$]),eE=function(e){var t,r,n=e.mode,i=e.onRedirectingChange,o=e.onSubmit,s=(t=(0,a._)(function(e){var t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return t=e.replace(".com",""),(0,F.j)(F.U3.AUTH_FORM_SSO_REQUESTED,{provider:t,authenticationType:n,isTeacher:"false"}),[4,i(!0)];case 1:return r.sent(),[4,(0,V.IG)({tenantId:void 0,provider:{type:"oauth",providerId:e}})];case 2:return"error"===r.sent().type&&o({error:V.ju}),[2]}})}),function(e){return t.apply(this,arguments)});return r="login"===n?ek.map(function(e){return(0,l.tZ)(eC,{onClick:function(){return s(e)},provider:{type:"oauth",providerId:e}},e)}):eS.map(function(e){return(0,l.tZ)(eC,{onClick:function(){return s(e)},provider:{type:"oauth",providerId:e}},e)}),(0,l.tZ)(l.HY,{children:r})},eI=r(24837),eT=(0,b.X)({mainControls:[w.l0.width("100%"),w.l0.px(12)],ssoContainer:[w.l0.width("100%"),w.l0.colWithGap(8)],samlLoginForm:[w.l0.pb(64)]}),eP=function(e){var t=e.onRedirectingChange,r=e.onSubmit,n=e.tracking,i=(0,s._)((0,h.useState)("password"),2),o=i[0],a=i[1];return(0,l.BX)(l.HY,{children:["password"===o?(0,l.tZ)(et,{onSubmit:r,trackSource:n.from}):null,"saml"===o?(0,l.tZ)(_.G,{css:eT.samlLoginForm,children:(0,l.tZ)(er.Z,{onSubmit:r,mode:"login",onRedirectingChange:t})}):null,(0,l.BX)(_.G,{css:eT.ssoContainer,children:[(0,l.tZ)(ex,{emailLoginType:o,setEmailLoginType:a}),(0,l.tZ)(eE,{mode:"login",onRedirectingChange:t,onSubmit:r})]})]})},eR=function(e){var t=e.mode,r=e.onRedirectingChange,n=e.onSubmit,i=e.seededEmail,o=e.tracking,a=(0,s._)((0,h.useState)("password"),2),c=a[0],u=a[1];return(0,l.BX)(l.HY,{children:[(0,l.BX)(_.G,{css:eT.ssoContainer,children:[(0,l.tZ)(eE,{mode:t,onRedirectingChange:r,onSubmit:n}),(0,l.tZ)(ex,{emailLoginType:c,setEmailLoginType:u})]}),(0,l.tZ)(I.R,{}),"password"===c?(0,l.tZ)(eb,{onSubmit:n,seededEmail:i,trackSource:o.from}):null,"saml"===c?(0,l.tZ)(er.Z,{onSubmit:n,mode:"signup",onRedirectingChange:r}):null]})},ex=function(e){var t=e.emailLoginType,r=e.setEmailLoginType;return(0,l.tZ)(e_,{onClick:function(){return r("password"===t?"saml":"password")},iconLeft:"password"===t?(0,l.tZ)(ew.Z,{size:20}):(0,l.tZ)(eI.Z,{size:20}),text:"Continue with ".concat("password"===t?"SSO":"password")})},eU=function(e){var t=e.children,r=e.customHeader,n=e.isModal,i=e.mode,o=e.onModeChange,a=e.onRedirectingChange,s=e.onSubmit,c=e.seededEmail,u=e.initialTenantId,d=e.tracking,p=e.privateDeployment;return(0,h.useEffect)(function(){var e=n?"modal":"auth-page";"login"===i?(0,k.vF)({from:d.from,location:d.location,authFormPlacement:e}):(0,k.P9)({from:d.from,location:d.location,authFormPlacement:e})},[i,n,d.from,d.location]),(0,h.useEffect)(function(){void 0!==u&&(a(!0),(0,v.g8)({type:"tenantId",tenantId:u}).then(function(e){if("error"===e.type){s({error:e.message});return}(0,V.IG)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}}).then(function(e){if("error"===e.type){s({error:V.ju});return}})}))},[u,a,s]),(0,l.BX)(l.HY,{children:[r?null:(0,l.tZ)(A,{mode:i,privateDeployment:p}),(0,l.BX)(_.G,{css:eT.mainControls,gap:12,children:[t,"login"===i?(0,l.tZ)(eP,{onRedirectingChange:a,onSubmit:s,tracking:d}):(0,l.tZ)(eR,{mode:i,onRedirectingChange:a,onSubmit:s,seededEmail:c,tracking:d}),(0,l.tZ)(U,{mode:i,isModal:n,onModeChange:o})]})]})},eL=r(42226),eA=(0,b.X)({container:[w.l0.pt(128),(0,eL._)({margin:"auto"},w.BC.max("mobileMax"),[w.l0.pt(96)]),w.l0.colWithGap(32)],button:[w.l0.color.foregroundDimmest]}),eD=function(e){var t,r=e.email,n=e.providerId,i=e.onCancel;return t=g.QT.some(function(e){return e===n})?g.tn[n]:n===g.N7?"your password":"this provider",(0,l.BX)(_.G,{css:eA.container,children:[(0,l.tZ)(Z.h4,{variant:"headerDefault",level:1,children:"Verification required"}),(0,l.BX)(_.G,{gap:16,children:[(0,l.BX)(Z.xv,{variant:"subheadDefault",multiline:!0,children:["In order to log in with ",t,", you must verify"," ",r||"your email","."]}),(0,l.tZ)(Z.xv,{multiline:!0,children:"We've sent an email with a verification link. If you don't see it, check your spam folder, or contact support for assistance."})]}),(0,l.tZ)(eg.zx,{size:"big",variant:"outlined",css:eA.button,onClick:function(){return i()},text:"Back to log in"})]})},eM=r(57899),eG=r(83548),eB=r(67160),eF=[w.l0.width(470),w.l0.maxWidth("100%"),w.l0.colWithGap(32),w.l0.align.center,{margin:"auto","& *":[w.rA]}],eH=(0,b.X)({error:[w.l0.mb(16)],container:(0,c._)(eF).concat([w.l0.p(24)]),containerModal:(0,c._)(eF),loadingText:[w.l0.fontSize(16),w.l0.flex.shrink(1)]}),eW="redirecting",eX=function(e){var t,r,n,i=e.customHeader,o=e.isModal,c=e.mode,y=e.onModeChange,b=e.onSuccess,w=e.seededEmail,C=e.initialTenantId,S=e.tracking,E=e.privateDeployment,I=(0,f.x)(),T=(0,d.useRouter)(),P=(0,eG.Wd)(eW,"boolean"),R=(0,s._)((0,h.useState)(P?{type:"redirecting"}:{type:"form"}),2),x=R[0],U=R[1],L=(0,s._)((0,h.useState)(),2),A=L[0],D=L[1],M=(0,h.useCallback)((t=(0,a._)(function(e){return(0,u.Jh)(this,function(t){switch(t.label){case 0:if(!e)return[3,2];return U({type:"redirecting"}),[4,(0,eG.pg)({router:T,params:[{mode:"add",key:eW,value:"1"}]})];case 1:return t.sent(),[3,3];case 2:U({type:"form"}),(0,eG.pg)({router:T,params:[{mode:"delete",key:eW}]}),t.label=3;case 3:return[2]}})}),function(e){return t.apply(this,arguments)}),[T]),G=function(e){U({type:"redirecting",message:"SAML SSO required. Redirecting to the SSO login page..."}),setTimeout((0,a._)(function(){return(0,u.Jh)(this,function(t){switch(t.label){case 0:return[4,(0,V.IG)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}})];case 1:return"error"===t.sent().type&&(D({message:"Something went wrong. Please try logging in again.",colorway:"negative"}),U({type:"form"})),[2]}})}),3e3)},B=(0,h.useCallback)((r=(0,a._)(function(e){var t,r;return(0,u.Jh)(this,function(n){switch(n.label){case 0:if(!("error"in e&&e.error))return[3,2];if(e.reauth)return G(e.reauth),[2];return D({message:e.error,colorway:null!==(t=e.colorway)&&void 0!==t?t:"negative"}),[4,M(!1)];case 1:return n.sent(),[2];case 2:if(!("user"in e&&e.user))throw Error("Expected error or user object");if(null!=(r=e.user.postLoginRedirectUrl)&&r.length>0)return window.location.href=r,[2];return e.isLogin||(0,k.jw)(e.user.id.toString()),b(e),[2]}})}),function(e){return r.apply(this,arguments)}),[M,b,D]),F=(0,eM.J)();switch((0,h.useEffect)(function(){var e;(0,V.WT)().then((e=(0,a._)(function(e){var t,r,n,i;return(0,u.Jh)(this,function(o){switch(o.label){case 0:if("success"!==e.type)return[3,13];if(null===e.result)return"redirecting"===x.type&&M(!1),[2];return"redirecting"!==x.type&&M(!0),[4,(0,v.d8)(e.result.user,{source:S.from})];case 1:switch((t=o.sent()).type){case"success":return[3,2];case"needs_email_verification":return[3,7];case"error":return[3,9]}return[3,11];case 2:if((null===(r=e.result)||void 0===r?void 0:r.providerId)!==g._i)return[3,4];return[4,F({userCredential:e.result,oauthProviderId:g._i,scopes:[]})];case 3:o.sent(),o.label=4;case 4:if(n=t.redirectUrl?O({redirectUrl:t.redirectUrl}):void 0)return window.location.href=n,[2];if(!(t.isNewUser&&e.result.providerId===g.b$))return[3,6];return[4,eh(t.userId.toString())];case 5:o.sent(),o.label=6;case 6:return b({user:{id:t.userId},isLogin:!t.isNewUser}),[3,12];case 7:return M(!1),U({type:"needs-email-verification",email:e.result.user.email,providerId:e.result.providerId}),[4,(0,V.w7)(I)];case 8:case 10:return o.sent(),[3,12];case 9:if(t.reauth)return G(t.reauth),[2];return M(!1),D({message:t.message,colorway:"negative"}),[4,(0,V.w7)(I)];case 11:(0,m.Z)(t),o.label=12;case 12:return[2];case 13:switch(M(!1),e.treatment){case"requires-provider-link":return[3,14];case"credential-conflict":return[3,15];case"email-conflict":return[3,16];case"forbidden-operation":return[3,17];case"user-needs-email":return[3,18];case"timeout":case"unhandled":case"unknown":return[3,20]}return[3,21];case 14:return D({message:"Please log in to ".concat(e.context.email," with another method and link ").concat(g.tn[e.context.credential.providerId]," from the account page."),colorway:"negative"}),[3,22];case 15:return D({message:"This provider cannot be used, please try another method.",colorway:"negative"}),[3,22];case 16:return D({message:"This email cannot be used, please try another method.",colorway:"negative"}),[3,22];case 17:return D({message:"That action is not permitted",colorway:"negative"}),[3,22];case 18:return i=g.tn[e.credential.providerId],D({message:"Your ".concat(i," account is missing an email address. To use it for Replit, you'll need to ").concat("login"===c?"log in":"sign up"," with another method and connect ").concat(i," from the account page."),colorway:"negative"}),[4,(0,V.w7)(I)];case 19:return o.sent(),[3,22];case 20:return D({message:"Something unexpected happened, please try again.",colorway:"negative"}),[3,22];case 21:(0,m.Z)(e),o.label=22;case 22:return[2]}})}),function(t){return e.apply(this,arguments)})).catch(function(e){return p.Tb(e)})},[]),x.type){case"form":n=(0,l.tZ)(eU,{customHeader:i,isModal:o,mode:c,onModeChange:function(e){D(void 0),y(e)},onRedirectingChange:M,onSubmit:B,seededEmail:w,initialTenantId:C,tracking:S,privateDeployment:E,children:A?(0,l.tZ)(eB.E,{css:eH.error,colorway:A.colorway,text:A.message}):null});break;case"needs-email-verification":n=(0,l.tZ)(eD,{email:x.email,providerId:x.providerId,onCancel:function(){return U({type:"form"})}});break;case"redirecting":n=(0,l.BX)(_.G,{gap:8,align:"center",children:[(0,l.tZ)($.Z,{size:32}),x.message?(0,l.tZ)(Z.xv,{multiline:!0,css:eH.loadingText,children:x.message}):null]})}return(0,l.tZ)(_.G,{css:o?eH.containerModal:eH.container,children:n})}},44298:function(e,t,r){r.d(t,{P9:function(){return u},jw:function(){return a},uk:function(){return s},vF:function(){return c}});var n=r(94213),i=r(12867),o=r(45732),a=function(e){var t=i.Z.get("gfa_ref")||void 0,r=i.Z.get("gfa_campaign")||void 0,n=i.Z.get("gfa_landed_on")||void 0;(0,o.yV)({id:e,firstAcquisitionSource:t,firstAcquisitionCampaign:r,firstAcquisitionLandedOn:n})},s=function(e){var t=e.isLogin,r=e.authFormPlacement;(0,o.j)(o.U3.AUTH_FORM_MODE_TOGGLED,t?{from:"login",to:"signup",authFormPlacement:r}:{from:"signup",to:"login",authFormPlacement:r})},c=function(e){var t=e.from,r=e.location,i=e.authFormPlacement,a=e.extras;(0,o.j)(o.U3.LOGIN_REQUESTED,(0,n._)({from:t,location:r,authFormPlacement:i},void 0===a?{}:a))},u=function(e){var t=e.from,r=e.location,i=e.authFormPlacement,a=e.extras;(0,o.j)(o.U3.SIGNUP_REQUESTED,(0,n._)({from:t,location:r,authFormPlacement:i},void 0===a?{}:a))}},57899:function(e,t,r){r.d(t,{J:function(){return v}});var n=r(84750),i=r(5093),o=r(96583),a=r(75271),s=r(25722),c=r(94213),u=r(14489),l=r(10222),d=r(96784);function h(){var e=(0,u._)(["\n  mutation SaveUserAuth($input: SaveUserAuthInput!) {\n    saveUserAuth(input: $input) {\n      ... on CurrentUser {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var p={},f=(0,l.Ps)(h()),m=r(62651),g={type:"error",message:"Something unexpected happened, please try again."};function v(){var e,t,r=(0,i._)((e=(0,c._)({},p,void 0),d.D(f,e)),1)[0];return(0,a.useCallback)((t=(0,n._)(function(e){var t,n,i,a,c;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(t=e.userCredential,n=e.oauthProviderId,i=e.scopes,!(a=(0,m.mM)(n,t))||!a.accessToken)return s.Tb(Error("Failed to extract token from ".concat(n," credential"))),[2,g];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r({variables:{input:{provider:n,token:a.accessToken,scopes:i}}})];case 2:return c=o.sent(),[3,4];case 3:return o.sent(),s.Tb(Error("Failed to save ".concat(n," Auth state"))),[2,g];case 4:if(!c.data)return s.Tb(Error("Unexpected error trying to save ".concat(n," Auth state"))),[2,g];if("CurrentUser"!==c.data.saveUserAuth.__typename)return[2,{type:"error",message:c.data.saveUserAuth.message}];return[2,{type:"success"}]}})}),function(e){return t.apply(this,arguments)}),[r])}},6283:function(e,t,r){r.d(t,{ZP:function(){return d},wE:function(){return a}});var n=r(84750),i=r(96583),o=r(14224),a="473079ba-e99f-4e25-a635-e9b661c7dd3e",s=0,c=null;function u(){return l.apply(this,arguments)}function l(){return(l=(0,n._)(function(){var e;return(0,i.Jh)(this,function(t){return(e=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",[2,new Promise(function(t,r){e.onload=function e(t){return function(){void 0===window.hcaptcha?setTimeout(function(){e(t)},100):t()}}(function(){c=null,t()}),e.onerror=function(){s++,c=new Promise(function(e,t){setTimeout(function(){u().then(e,t)},1e3*Math.pow(1.7,s)+Math.floor(500*Math.random()))}),5===s&&r(Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(e)})]})})).apply(this,arguments)}function d(e,t){return h.apply(this,arguments)}function h(){return(h=(0,n._)(function(e,t){var r;return(0,i.Jh)(this,function(n){switch(n.label){case 0:if("true"===o.env.IS_CYPRESS_AUTOMATED_TEST||"true"===o.env.SKIP_HCAPTCHA)return[2,"bypassed"];if(!c)return[3,2];return[4,c];case 1:n.sent(),n.label=2;case 2:return r=window.hcaptcha,[2,new Promise(function(n,i){var o=document.createElement("div"),s=r.render(o,{sitekey:e||a,size:"invisible",callback:function(e){r.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),n(e)},"open-callback":function(){t&&t()},"close-callback":function(){r.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha closed"))},"chalexpired-callback":function(){r.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha challenge expired"))},"error-callback":function(){r.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha render error"))},"expired-callback":function(){r.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha render expired"))}});window.document.body.appendChild(o),r.execute(s)})]}})})).apply(this,arguments)}c=u()},77120:function(e,t,r){r.d(t,{H:function(){return h},S:function(){return p}});var n=r(94213),i=r(32586),o=r(25659),a=r(28011),s=r(47750),c=r.n(s),u=r(75271),l=r(20806),d=r(31995).K.a,h=(0,u.forwardRef)(function(e,t){var r=e.href,s=(0,o._)(e,["href"]),c=(0,l.Q7)(s),u=(0,a.tZ)(l.dI,(0,n._)({},s));return s.disabled?(0,a.tZ)(d,(0,i._)((0,n._)({ref:t,href:r,"aria-disabled":s.disabled,css:c,role:"link"},s),{children:u})):(0,a.tZ)(d,(0,i._)((0,n._)({ref:t,css:c,role:"link",href:r},s),{children:u}))}),p=(0,u.forwardRef)(function(e,t){var r=e.href,s=(0,o._)(e,["href"]),u=(0,l.Q7)(s),h=(0,a.tZ)(l.dI,(0,n._)({},s));return s.disabled?(0,a.tZ)(d,(0,i._)((0,n._)({ref:t,"aria-disabled":s.disabled,css:u,role:"link"},s),{children:h})):(0,a.tZ)(c(),(0,i._)((0,n._)({legacyBehavior:!0,passHref:!0,href:r},s),{children:(0,a.tZ)(d,(0,i._)((0,n._)({ref:t,css:u,role:"link"},s),{children:h}))}))})},24873:function(e,t,r){r.d(t,{R:function(){return s}});var n=r(28011),i=r(62279),o=r(21480),a=(0,i.iv)(o.l0.backgroundColor.outlineDimmest,o.l0.height(1),o.l0.minHeight(1),o.l0.width("100%"));function s(e){var t=e.className;return(0,n.tZ)("div",{className:t,css:a})}},24900:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(94213),i=r(32586),o=r(28011),a=r(16095);function s(e){return(0,o.tZ)(a.ZP,(0,i._)((0,n._)({},e),{children:(0,o.tZ)("path",{fillRule:"evenodd",d:"M23.31 11.753a.75.75 0 0 1-.75.75h-1.523v2.698a.75.75 0 0 1-1.5 0v-2.698h-2.476v3.698a.75.75 0 0 1-1.5 0v-3.698h-3.219a5.168 5.168 0 0 1-10.285-.755v-.008a5.168 5.168 0 0 1 10.268-.737H22.56a.75.75 0 0 1 .75.75Zm-12.417.043-.002-.03a3.668 3.668 0 0 0-7.334-.004 3.668 3.668 0 1 0 7.336.034Z",clipRule:"evenodd"})}))}},24837:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(94213),i=r(32586),o=r(28011),a=r(16095);function s(e){return(0,o.tZ)(a.ZP,(0,i._)((0,n._)({},e),{children:(0,o.tZ)("path",{fillRule:"evenodd",d:"M2.802 5.646 12 12.085l9.198-6.44A1.258 1.258 0 0 0 20 4.75H4c-.563 0-1.044.38-1.198.896ZM21.25 7.44l-8.82 6.174a.75.75 0 0 1-.86 0L2.75 7.44V18c0 .686.564 1.25 1.25 1.25h16c.686 0 1.25-.564 1.25-1.25V7.44ZM1.25 6A2.756 2.756 0 0 1 4 3.25h16A2.756 2.756 0 0 1 22.75 6v12A2.756 2.756 0 0 1 20 20.75H4A2.756 2.756 0 0 1 1.25 18V6Z",clipRule:"evenodd"})}))}}}]);
//# sourceMappingURL=5453-1a1599858a6bb87b.js.map